{"version":3,"sources":["services/fetcher.js","components/home/home.module.css","components/search/searchFilms.module.css","components/home/Home.js","pages/HomePage.js"],"names":["axios","defaults","baseURL","fetchFilmsList","a","get","films","console","log","fetchFilmDetail","id","film","fetchPlanetDetail","planet","fetchStarshipDetail","starship","module","exports","Home","className","styles","title","map","url","slice","key","to","pathname","state","from","HomePage","message","search","getFilmsList","filmsListAndSort","data","results","sort","sortByField","setState","handleChange","e","target","value","this","field","b","searchedFilms","filter","toLowerCase","includes","searchFilms","onSubmit","handleSubmit","form","input","type","placeholder","onChange","Component"],"mappings":"qSAEAA,IAAMC,SAASC,QAAU,yBAElB,IAAMC,EAAc,uCAAG,4BAAAC,EAAA,+EAENJ,IAAMK,IAAI,UAFJ,cAEpBC,EAFoB,yBAGnBA,GAHmB,gCAK1BC,QAAQC,IAAR,MAL0B,yDAAH,qDASdC,EAAe,uCAAG,WAAMC,GAAN,eAAAN,EAAA,+EAERJ,IAAMK,IAAN,gBAAmBK,IAFX,cAErBC,EAFqB,yBAGpBA,GAHoB,gCAK3BJ,QAAQC,IAAR,MAL2B,yDAAH,sDASfI,EAAiB,uCAAG,WAAMF,GAAN,eAAAN,EAAA,+EAERJ,IAAMK,IAAN,kBAAqBK,IAFb,cAEvBG,EAFuB,yBAGtBA,GAHsB,gCAK7BN,QAAQC,IAAR,MAL6B,yDAAH,sDASjBM,EAAmB,uCAAG,WAAMJ,GAAN,eAAAN,EAAA,+EAERJ,IAAMK,IAAN,oBAAuBK,IAFf,cAEzBK,EAFyB,yBAGxBA,GAHwB,gCAK/BR,QAAQC,IAAR,MAL+B,yDAAH,uD,mBC9BhCQ,EAAOC,QAAU,CAAC,MAAQ,sB,mBCA1BD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,OAAS,8B,4LCIlFC,EAAO,SAAC,GAAD,IAAGZ,EAAH,EAAGA,MAAH,OAClB,oCACE,wBAAIa,UAAWC,IAAOC,OAAtB,mBACA,4BACGf,EAAMgB,KAAI,SAAAX,GACT,IAAMD,EAAKC,EAAKY,IAAIC,MAAM,GAAI,IAC9B,OACE,wBAAIC,IAAKf,GACP,kBAAC,IAAD,CACEgB,GAAI,CACFC,SAAS,UAAD,OAAYjB,GACpBkB,MAAO,CAAEC,KAAM,OAGhBlB,EAAKU,c,iBCRCS,E,4MACnBF,MAAQ,CACNtB,MAAO,GACPyB,QAAS,KACTC,OAAQ,I,EAWVC,a,sBAAe,8BAAA7B,EAAA,+EAESD,cAFT,OAELG,EAFK,OAGL4B,EAAmB5B,EAAM6B,KAAKC,QAAQC,KAC1C,EAAKC,YAAY,UAEnB,EAAKC,SAAS,CAAEjC,MAAO4B,IANZ,gDAQX,EAAKK,SAAS,CAAER,QAAO,OARZ,yD,EAYfS,aAAe,SAAAC,GACb,EAAKF,SAAS,CAAEP,OAAQS,EAAEC,OAAOC,S,kEApBjCC,KAAKX,iB,kCAGKY,GACV,OAAO,SAACzC,EAAG0C,GAAJ,OAAW1C,EAAEyC,GAASC,EAAED,GAAS,GAAK,K,+BAmBrC,IAAD,EACmBD,KAAKhB,MAAvBtB,EADD,EACCA,MAAO0B,EADR,EACQA,OACTe,EAvCU,SAACf,EAAQ1B,GAC3B,OAAOA,EAAM0C,QAAO,SAAArC,GAAI,OACtBA,EAAKU,MAAM4B,cAAcC,SAASlB,EAAOiB,kBAqCnBE,CAAYnB,EAAQ1B,GAC1C,OACE,oCACE,0BAAM8C,SAAUR,KAAKS,aAAclC,UAAWC,IAAOkC,MACnD,2BACEnC,UAAWC,IAAOmC,MAClBC,KAAK,OACLC,YAAY,eACZd,MAAOX,EACP0B,SAAUd,KAAKJ,gBAGnB,kBAAC,EAAD,CAAMlC,MAAOyC,S,GA7CiBY","file":"static/js/home-page.233128b8.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://swapi.dev/api/';\r\n\r\nexport const fetchFilmsList = async () => {\r\n  try {\r\n    const films = await axios.get('films/');\r\n    return films;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchFilmDetail = async id => {\r\n  try {\r\n    const film = await axios.get(`films/${id}`);\r\n    return film;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchPlanetDetail = async id => {\r\n  try {\r\n    const planet = await axios.get(`planets/${id}`);\r\n    return planet;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const fetchStarshipDetail = async id => {\r\n  try {\r\n    const starship = await axios.get(`starships/${id}`);\r\n    return starship;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"home_title__30Pip\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"searchFilms_form__2q0ft\",\"input\":\"searchFilms_input__2MATT\",\"button\":\"searchFilms_button__3LO9c\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './home.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const Home = ({ films }) => (\r\n  <>\r\n    <h2 className={styles.title}>Star Wars films</h2>\r\n    <ul>\r\n      {films.map(film => {\r\n        const id = film.url.slice(27, 28);\r\n        return (\r\n          <li key={id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/films/${id}`,\r\n                state: { from: '/' },\r\n              }}\r\n            >\r\n              {film.title}\r\n            </Link>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  </>\r\n);\r\n\r\nHome.propTypes = {\r\n  films: PropTypes.array,\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { fetchFilmsList } from '../services/fetcher';\r\nimport { Home } from '../components/home/Home';\r\nimport styles from '../components/search/searchFilms.module.css';\r\n\r\nconst searchFilms = (search, films) => {\r\n  return films.filter(film =>\r\n    film.title.toLowerCase().includes(search.toLowerCase()),\r\n  );\r\n};\r\n\r\nexport default class HomePage extends Component {\r\n  state = {\r\n    films: [],\r\n    message: null,\r\n    search: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getFilmsList();\r\n  }\r\n\r\n  sortByField(field) {\r\n    return (a, b) => (a[field] > b[field] ? 1 : -1);\r\n  }\r\n\r\n  getFilmsList = async () => {\r\n    try {\r\n      const films = await fetchFilmsList();\r\n      const filmsListAndSort = films.data.results.sort(\r\n        this.sortByField('title'),\r\n      );\r\n      this.setState({ films: filmsListAndSort });\r\n    } catch (message) {\r\n      this.setState({ message });\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { films, search } = this.state;\r\n    const searchedFilms = searchFilms(search, films);\r\n    return (\r\n      <>\r\n        <form onSubmit={this.handleSubmit} className={styles.form}>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            placeholder=\"Search films\"\r\n            value={search}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n        <Home films={searchedFilms} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}