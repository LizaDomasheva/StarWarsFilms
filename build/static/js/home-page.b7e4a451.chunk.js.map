{"version":3,"sources":["services/fetcher.js","components/home/home.module.css","components/search/SearchFilms.module.css","components/home/Home.js","pages/HomePage.js"],"names":["axios","defaults","baseURL","fetchFilmsList","a","get","films","setState","error","fetchFilmDetail","id","film","console","log","fetchPlanetDetail","planet","fetchStarshipDetail","starship","module","exports","Home","movies","className","styles","title","map","movie","url","slice","key","to","pathname","state","from","HomePage","message","search","getFilmsList","moviesListAndSort","data","results","sort","sortByField","handleChange","e","target","value","this","field","b","searchedFilms","filter","toLowerCase","includes","searchFilms","onSubmit","handleSubmit","form","input","type","placeholder","onChange","Component"],"mappings":"8SAIAA,IAAMC,SAASC,QAAU,yBAGlB,IAAMC,EAAc,uCAAG,4BAAAC,EAAA,+EAENJ,IAAMK,IACxB,UAHwB,cAEpBC,EAFoB,yBAKnBA,GALmB,gCAO1B,EAAKC,SAAS,CAAEC,MAAM,EAAD,KAPK,yDAAH,qDAWdC,EAAe,uCAAG,WAAOC,GAAP,eAAAN,EAAA,+EAENJ,IAAMK,IAAN,gBACRK,IAHc,cAEnBC,EAFmB,yBAKlBA,GALkB,gCAO5BC,QAAQC,IAAR,MAP4B,yDAAH,sDAWdC,EAAiB,uCAAG,WAAOJ,GAAP,eAAAN,EAAA,+EAEPJ,IAAMK,IAAN,kBACRK,IAHe,cAEtBK,EAFsB,yBAKrBA,GALqB,gCAO/BH,QAAQC,IAAR,MAP+B,yDAAH,sDAYjBG,EAAmB,uCAAG,WAAON,GAAP,eAAAN,EAAA,+EAEPJ,IAAMK,IAAN,oBACRK,IAHe,cAExBO,EAFwB,yBAKvBA,GALuB,gCAOjCL,QAAQC,IAAR,MAPiC,yDAAH,uD,mBCxCjCK,EAAOC,QAAU,CAAC,MAAQ,sB,mBCA1BD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,OAAS,8B,4LCIlFC,EAAO,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAH,OAClB,oCACE,wBAAIC,UAAWC,IAAOC,OAAtB,mBACA,4BACGH,EAAOI,KAAI,SAAAC,GACV,IAAMhB,EAAKgB,EAAMC,IAAIC,MAAM,GAAI,IACvC,OACQ,wBAAIC,IAAKnB,GACP,kBAAC,IAAD,CACEoB,GAAI,CACFC,SAAS,UAAD,OAAYrB,GACpBsB,MAAO,CAAEC,KAAM,OAGhBP,EAAMF,c,iBCREU,E,4MACnBF,MAAQ,CACNX,OAAQ,GACRc,QAAS,KACTC,OAAQ,I,EAWVC,a,sBAAe,8BAAAjC,EAAA,+EAEUD,cAFV,OAELkB,EAFK,OAGLiB,EAAoBjB,EAAOkB,KAAKC,QAAQC,KAC5C,EAAKC,YAAY,UAEnB,EAAKnC,SAAS,CAAEc,OAAQiB,IANb,gDAQX,EAAK/B,SAAS,CAAE4B,QAAO,OARZ,yD,EAYfQ,aAAe,SAAAC,GACb,EAAKrC,SAAS,CAAE6B,OAAQQ,EAAEC,OAAOC,S,kEApBjCC,KAAKV,iB,kCAGKW,GACV,OAAO,SAAC5C,EAAG6C,GAAJ,OAAW7C,EAAE4C,GAASC,EAAED,GAAS,GAAK,K,+BAmBrC,IAAD,EACoBD,KAAKf,MAAxBX,EADD,EACCA,OAAQe,EADT,EACSA,OACVc,EAvCU,SAACd,EAAQf,GAC3B,OAAOA,EAAO8B,QAAO,SAAAzB,GAAK,OACxBA,EAAMF,MAAM4B,cAAcC,SAASjB,EAAOgB,kBAqCpBE,CAAYlB,EAAQf,GAC1C,OACE,oCACE,0BAAMkC,SAAUR,KAAKS,aAAclC,UAAWC,IAAOkC,MACnD,2BACEnC,UAAWC,IAAOmC,MAClBC,KAAK,OACLC,YAAY,eACZd,MAAOV,EACPyB,SAAUd,KAAKJ,gBAGnB,kBAAC,EAAD,CAAMtB,OAAQ6B,S,GA7CgBY","file":"static/js/home-page.b7e4a451.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\n// axios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.baseURL = 'https://swapi.dev/api/'\r\n\r\n\r\nexport const fetchFilmsList = async () => {\r\n  try {\r\n    const films = await axios.get(\r\n      \"films/\",\r\n    );\r\n    return films\r\n  } catch (error) {\r\n    this.setState({ error: error });\r\n  }\r\n};\r\n\r\nexport const fetchFilmDetail = async (id) => {\r\n  try {\r\n      const film = await axios.get(\r\n        `films/${id}`,\r\n      );\r\n      return film\r\n  } catch (error) {\r\n   console.log(error);\r\n  }\r\n };\r\n\r\n export const fetchPlanetDetail = async (id) => {\r\n  try {\r\n      const planet = await axios.get(\r\n        `planets/${id}`,\r\n      );\r\n      return planet\r\n  } catch (error) {\r\n   console.log(error);\r\n  }\r\n };\r\n\r\n\r\n export const fetchStarshipDetail = async (id) => {\r\n  try {\r\n      const starship = await axios.get(\r\n        `starships/${id}`,\r\n      );\r\n      return starship\r\n  } catch (error) {\r\n   console.log(error);\r\n  }\r\n };\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"home_title__30Pip\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchFilms_form__2mnPy\",\"input\":\"SearchFilms_input__33LwB\",\"button\":\"SearchFilms_button__2S1n7\"};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './home.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const Home = ({ movies }) => (\r\n  <>\r\n    <h2 className={styles.title}>Star Wars films</h2>\r\n    <ul>\r\n      {movies.map(movie => {\r\n        const id = movie.url.slice(27, 28)\r\nreturn (\r\n        <li key={id}>\r\n          <Link \r\n            to={{\r\n              pathname: `/films/${id}`,\r\n              state: { from: '/' },\r\n            }}\r\n          >\r\n            {movie.title}\r\n          </Link>\r\n        </li>\r\n)\r\n\r\n\r\n\r\n          })}\r\n    </ul>\r\n  </>\r\n);\r\n\r\nHome.propTypes = {\r\n  title: PropTypes.string,\r\n  id: PropTypes.string,\r\n};\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { fetchFilmsList } from '../services/fetcher';\r\nimport { Home } from '../components/home/Home';\r\nimport styles from '../components/search/SearchFilms.module.css';\r\n\r\nconst searchFilms = (search, movies) => {\r\n  return movies.filter(movie =>\r\n    movie.title.toLowerCase().includes(search.toLowerCase()),\r\n  );\r\n};\r\n\r\nexport default class HomePage extends Component {\r\n  state = {\r\n    movies: [],\r\n    message: null,\r\n    search: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getFilmsList();\r\n  }\r\n\r\n  sortByField(field) {\r\n    return (a, b) => (a[field] > b[field] ? 1 : -1);\r\n  }\r\n\r\n  getFilmsList = async () => {\r\n    try {\r\n      const movies = await fetchFilmsList();\r\n      const moviesListAndSort = movies.data.results.sort(\r\n        this.sortByField('title'),\r\n      );\r\n      this.setState({ movies: moviesListAndSort });\r\n    } catch (message) {\r\n      this.setState({ message });\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { movies, search } = this.state;\r\n    const searchedFilms = searchFilms(search, movies);\r\n    return (\r\n      <>\r\n        <form onSubmit={this.handleSubmit} className={styles.form}>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            placeholder=\"Search films\"\r\n            value={search}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n        <Home movies={searchedFilms} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}